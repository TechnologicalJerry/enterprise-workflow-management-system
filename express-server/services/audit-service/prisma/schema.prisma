generator client { provider = "prisma-client-js" }
datasource db { provider = "postgresql"; url = env("DATABASE_URL") }

model AuditLog {
  id            String   @id @default(uuid())
  service       String
  entityType    String   @map("entity_type")
  entityId      String   @map("entity_id")
  action        String
  userId        String?  @map("user_id")
  correlationId String?  @map("correlation_id")
  payload       Json?
  ipAddress     String?  @map("ip_address")
  userAgent     String?  @map("user_agent")
  createdAt     DateTime @default(now()) @map("created_at")

  @@index([service])
  @@index([entityType, entityId])
  @@index([userId])
  @@index([createdAt])
  @@map("audit_logs")
}
