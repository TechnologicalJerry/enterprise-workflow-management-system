generator client { provider = "prisma-client-js" }
datasource db { provider = "postgresql"; url = env("DATABASE_URL") }

model Notification {
  id        String   @id @default(uuid())
  userId    String   @map("user_id")
  type      String
  title     String
  body      String?
  read      Boolean  @default(false)
  metadata  Json?
  createdAt DateTime @default(now()) @map("created_at")

  @@index([userId])
  @@index([read])
  @@index([createdAt])
  @@map("notifications")
}

model NotificationPreferences {
  id       String   @id @default(uuid())
  userId   String   @unique @map("user_id")
  email    Boolean  @default(true)
  push     Boolean  @default(true)
  inApp    Boolean  @default(true)
  config   Json?
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("notification_preferences")
}
